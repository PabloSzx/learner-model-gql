fragment IsolatedDomainFields on Domain {
  id
  code
  label
}

mutation CreateDomain($input: CreateDomain!) {
  adminDomain {
    createDomain(input: $input) {
      ...IsolatedDomainFields
    }
  }
}

mutation UpdateDomain($input: UpdateDomain!) {
  adminDomain {
    updateDomain(input: $input) {
      ...IsolatedDomainFields
    }
  }
}

fragment IsolatedTopicFields on Topic {
  id
  code
  label
  domain {
    id
  }
  parent {
    id
    domain {
      id
    }
  }
  childrens {
    id
    domain {
      id
    }
  }
}

mutation CreateTopic($input: CreateTopic!) {
  adminDomain {
    createTopic(input: $input) {
      ...IsolatedTopicFields
    }
  }
}

mutation UpdateTopic($input: UpdateTopic!) {
  adminDomain {
    updateTopic(input: $input) {
      ...IsolatedTopicFields
    }
  }
}

query AllDomains($pagination: CursorConnectionArgs!) {
  adminDomain {
    allDomains(pagination: $pagination) {
      nodes {
        ...IsolatedDomainFields
      }
      pageInfo {
        hasNextPage
      }
    }
  }
}

query AllTopics($pagination: CursorConnectionArgs!) {
  adminDomain {
    allTopics(pagination: $pagination) {
      nodes {
        ...IsolatedTopicFields
      }
      pageInfo {
        hasNextPage
      }
    }
  }
}
