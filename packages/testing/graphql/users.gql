fragment UserInfo on User {
  id
  enabled
  email
  name
  locked
  active
  lastOnline
  role
  createdAt
  updatedAt
}

query CurrentUser {
  currentUser {
    ...UserInfo
  }
}

query UsersById($ids: [IntID!]!) {
  users(ids: $ids) {
    ...UserInfo
  }
}

query AdminAllUsers($pagination: CursorConnectionArgs!) {
  adminUsers {
    allUsers(pagination: $pagination) {
      nodes {
        ...UserInfo
      }
      pageInfo {
        hasNextPage
      }
    }
  }
}

mutation UpsertUsers($data: [UpsertUserInput!]!) {
  adminUsers {
    upsertUsers(data: $data) {
      ...UserInfo
    }
  }
}

mutation SetUserProjects($projectIds: [IntID!]!, $userIds: [IntID!]!) {
  adminUsers {
    setProjectsToUsers(projectIds: $projectIds, userIds: $userIds) {
      id
      email
      projectsIds
    }
  }
}

fragment GroupInfo on Group {
  id
  code
  label
  users {
    id
    email
  }
  projectsIds
}

query AdminAllGroups($pagination: CursorConnectionArgs!) {
  adminUsers {
    allGroups(pagination: $pagination) {
      nodes {
        ...GroupInfo
      }
      pageInfo {
        hasNextPage
      }
    }
  }
}

query GetGroups($ids: [IntID!]!) {
  groups(ids: $ids) {
    ...GroupInfo
  }
}

fragment UserGroupsInfo on User {
  id
  email
  groups {
    ...GroupInfo
  }
}

mutation SetUserGroups($userIds: [IntID!]!, $groupIds: [IntID!]!) {
  adminUsers {
    setUserGroups(userIds: $userIds, groupIds: $groupIds) {
      ...UserGroupsInfo
    }
  }
}

mutation AdminCreateGroup($data: CreateGroupInput!) {
  adminUsers {
    createGroup(data: $data) {
      ...GroupInfo
    }
  }
}

mutation AdminUpdateGroup($data: UpdateGroupInput!) {
  adminUsers {
    updateGroup(data: $data) {
      ...GroupInfo
    }
  }
}

query UsersGroups($ids: [IntID!]!) {
  users(ids: $ids) {
    ...UserGroupsInfo
  }
}
